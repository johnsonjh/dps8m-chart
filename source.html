<!doctype html>

<!-- Copyright (c) 2025 Jeffrey H. Johnson -->
<!-- SPDX-License-Identifier: MIT -->
<!-- vim: set expandtab ft=javascript: -->

<html lang="en">
    <head>
        <meta charset="UTF-8" />

        <meta http-equiv="Cache-Control" content="no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="darkreader-lock" />

        <title>DPS8M Benchmark Visualizer</title>

        <!-- "https://cdn.jsdelivr.net/npm/chart.js@4.4.9/dist/chart.umd.min.js" -->
        <script src="chart.umd.min.js"></script>

        <!-- "https://cdn.jsdelivr.net/npm/choices.js@11.1.0/public/assets/styles/choices.min.css" -->
        <link rel="stylesheet" href="choices.min.css" />

        <!-- "https://cdn.jsdelivr.net/npm/choices.js@11.1.0/public/assets/scripts/choices.min.js" -->
        <script src="choices.min.js"></script>

        <!-- "https://cdn.jsdelivr.net/npm/chartjs-plugin-deferred@2.0.0/dist/chartjs-plugin-deferred.min.js" -->
        <script src="chartjs-plugin-deferred.min.js"></script>

        <!-- "https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js" -->
        <script src="lz-string.min.js"></script>

        <style>
            .zoom-out {
                display: flex;
                flex-direction: column;
                min-height: 100vh;
                width: 100vw;
            }

            @media (max-width: 800px) {
                .zoom-out {
                    transform: scale(0.85);
                    transform-origin: top left;
                    width: 117.65vw;
                    min-height: 117.65vh;
                }
            }

            @media (max-width: 600px) {
                .zoom-out {
                    transform: scale(0.65);
                    transform-origin: top left;
                    width: 153.85vw;
                    min-height: 153.85vh;
                }
            }

            .choices {
                background-color: #000000;
                color: #ffffff;
                border: 1px solid #4b5563;
            }

            .choices__inner {
                background-color: #000000;
                color: #ffffff;
                border: 1px solid #4b5563;
                border-radius: 0 !important;
            }

            .choices__input {
                background-color: #000000;
                color: #ffffff;
            }

            .choices__list--dropdown {
                background-color: #1f2935;
                color: #ffffff;
                border: 1px solid #4b5563;
                border-radius: 0 !important;
            }

            .choices__list--dropdown .choices__item,
            .choices__list--dropdown .choices__item--selectable {
                color: #ffffff !important;
            }

            .choices__list--dropdown .choices__item--selectable.is-highlighted {
                background-color: #000000;
                color: #ffffff !important;
            }

            .choices__item {
                background-color: #1f2935;
                color: #ffffff;
            }

            .choices__list--multiple .choices__item {
                border-radius: 0 !important;
                background-color: #4b5563;
                color: #ffffff;
            }

            .choices__list {
                max-height: 55vh !important;
                overflow-y: auto !important;
            }

            .choices__item--selectable:hover {
                background-color: #4b5563;
                color: #ffffff;
                border-radius: 0 !important;
            }

            .choices__list[aria-expanded] .choices__item--selectable.is-highlighted {
                background-color: #000000;
            }

            .choices__item--choice.is-selected,
            .choices__item--choice.is-highlighted {
                background-color: #4b5563;
                color: #ffffff;
                border-radius: 0 !important;
            }

            .choices__button {
                background-color: #4b5563;
                color: #ffffff;
                border: none;
                border-radius: 0 !important;
            }

            .choices__group {
                background-color: #222222 !important;
            }

            .choices__group,
            .choices__group * {
                color: #fff !important;
            }

            .choices.is-open .choices__list--dropdown,
            .choices.is-open .choices__list--multiple {
                box-shadow:
                    0 8px 24px rgba(0, 0, 0, 0.4),
                    0 1.5px 6px rgba(0, 0, 0, 0.25);
            }

            input[type="radio"] {
                background-color: #374151;
                border: 1px solid #4b5563;
            }

            input[type="radio"]:checked {
                background-color: #4b5563;
                border-color: #ffffff;
            }

            body {
                background-color: #323232;
                padding: 10px;
                font-family: sans-serif;
            }

            .container {
                max-width: 94%;
                margin: 0 auto;
                color: #fff;
                background-color: #444;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .select-container {
                margin-bottom: 16px;
            }

            label {
                display: block;
                font-size: 14px;
                color: #ffffff;
                white-space: nowrap;
                margin-bottom: 4px;
            }

            .chart-wrapper {
                width: 100%;
                height: 100%;
                margin-bottom: 20px;
                position: relative;
            }

            canvas {
                width: 100% !important;
                height: 100% !important;
            }

            .scale-toggle {
                margin-bottom: 0px;
                white-space: nowrap;
                display: inline-flex;
                vertical-align: bottom;
                gap: 0px;
            }

            .chartjs-render-monitor {
                height: 600px !important;
            }

            .sort-btn {
                background: #1f2935;
                color: #fff;
                border: 1px solid #4b5563;
                border-radius: 4px;
                padding: 6px 16px;
                margin-bottom: 16px;
                cursor: pointer;
                white-space: nowrap;
            }

            .sort-btn:hover {
                background: #374151;
            }

            .sortable-th {
                cursor: pointer;
                position: relative;
                white-space: nowrap;
            }

            .sortable-th:after {
                content: "";
                font-size: 0.5em;
                vertical-align: bottom;
                display: inline;
                margin-left: 0px;
                padding-left: 10px;
            }

            .sortable-th.sorted-asc:after {
                content: "▲";
                font-size: 0.55em;
                vertical-align: top;
                display: inline;
                margin-left: 1px;
                padding-left: 0px;
            }

            .sortable-th.sorted-desc:after {
                content: "▼";
                font-size: 0.55em;
                vertical-align: bottom;
                display: inline;
                margin-left: 1px;
                padding-left: 0px;
            }

            .dynamicTable {
                border-collapse: collapse;
                width: 100%;
                margin-top: 24px;
                background: #222;
                font-size: 0.92em;
            }

            .dynamicTable th,
            .dynamicTable td {
                border: 1px solid #4b5563;
                padding: 5px 10px;
                color: #fff;
                text-align: center;
            }

            .dynamicTable th {
                background: #1f2935;
                font-size: 0.9em;
            }

            .dynamicTable tr:hover td {
                background: #2d3748;
            }

            .color-dot {
                display: inline-block;
                width: 1em;
                height: 1em;
                border-radius: 50%;
                margin-right: 0.5em;
                vertical-align: middle;
                white-space: nowrap;
            }

            .note-dot {
                width: 2em;
                height: 2em;
                margin-left: 1em;
            }

            .system-label {
                white-space: nowrap;
            }

            ul {
                list-style-type: none;
                padding-left: 0.38em;
                margin: 0;
            }

            html,
            body {
                height: 100%;
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                text-size-adjust: none;
                -webkit-text-size-adjust: none;
                text-rendering: optimizeLegibility;
            }

            body {
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                max-width: 100vw;
                overflow-x: hidden;
            }

            main {
                flex: 1 0 auto;
            }

            .table-scroll {
                overflow-x: auto;
                width: 100%;
                box-sizing: border-box;
            }

            .table-scroll table {
                min-width: 100%;
                box-sizing: border-box;
                border-collapse: collapse;
            }

            footer a {
                color: #4f4f4f;
            }

            footer {
                width: 100%;
                overflow-x: hidden;
                flex-shrink: 0;
                background: #222;
                color: #4f4f4f;
                padding: 1px 2px 2px 2px;
                border-top: 10px solid #323232;
                font-size: 0.6em;
            }

            .number-input {
                background-color: #4b5563;
                color: #ffffff;
            }
        </style>
    </head>
    <body>
        <div class="zoom-out">
            <main>
                <div class="container">
                    <div class="select-container">
                        <label for="systemSelect"> Select Systems:</label>
                        <select id="systemSelect" multiple autocomplete="off">
                            <!-- XXX: Add new system names below -->

                            <optgroup label="DPS8M R3.1.0 [64‑bit] …">
                                <option value="RPi5B_R310_64_Clang20_PGO">Raspberry Pi 5B / 64-bit / Linux (glibc) / Clang 20.1.7 (PGO)</option>
                                <option value="RPi5B_R310_64_Clang20">Raspberry Pi 5B / 64-bit / Linux (glibc) / Clang 20.1.7</option>
                                <option value="RPi5B_R310_64_GCC12_PGO">Raspberry Pi 5B / 64-bit / Linux (glibc) / GCC 12.2 (PGO)</option>
                                <option value="RPi5B_R310_64_GCC12">Raspberry Pi 5B / 64-bit / Linux (glibc) / GCC 12.2</option>
                                <option value="RPi5B_R310_64_GCC14_PGO_musl">Raspberry Pi 5B / 64-bit / Linux (musl) / GCC 14.3 (PGO)</option>
                                <option value="RPi4B_R310_64_Clang20_PGO">Raspberry Pi 4B / 64-bit / Linux (glibc) / Clang 20.1.7 (PGO)</option>
                                <option value="RPi4B_R310_64_Clang20">Raspberry Pi 4B / 64-bit / Linux (glibc) / Clang 20.1.7</option>
                                <option value="RPi4B_R310_64_GCC12_PGO">Raspberry Pi 4B / 64-bit / Linux (glibc) / GCC 12.2 (PGO)</option>
                                <option value="RPi4B_R310_64_GCC12">Raspberry Pi 4B / 64-bit / Linux (glibc) / GCC 12.2</option>
                                <option value="RPi4B_R310_64_GCC14_PGO_musl">Raspberry Pi 4B / 64-bit / Linux (musl) / GCC 14.3 (PGO)</option>
                                <option value="RPi3B_R310_64_Clang20_PGO">Raspberry Pi 3B / 64-bit / Linux (glibc) / Clang 20.1.7 (PGO)</option>
                                <option value="RPi3B_R310_64_Clang20">Raspberry Pi 3B / 64-bit / Linux (glibc) / Clang 20.1.7</option>
                                <option value="RPi3B_R310_64_GCC14_PGO_musl">Raspberry Pi 3B / 64-bit / Linux (musl) / GCC 14.3 (PGO)</option>
                                <option value="RPi3B_R310_64_GCC14_musl">Raspberry Pi 3B / 64-bit / Linux (musl) / GCC 14.3</option>
                            </optgroup>

                            <optgroup label="DPS8M R3.1.0 [32‑bit] …">
                                <option value="RPi1B_R310_32_GCC14_NL_PGO_musl">Raspberry Pi 1B+ / 32-bit / Linux (musl)/ GCC 14.1 (PGO) / NO_LOCKLESS</option>
                                <option value="RPi1B_R310_32_GCC14_PGO_musl">Raspberry Pi 1B+ / 32-bit /  Linux (musl) / GCC 14.3 / (PGO)</option>
                                <option value="RPi1B_R310_32_GCC14_NL_musl">Raspberry Pi 1B+ / 32-bit / Linux (musl) / GCC 14.3 / NO_LOCKLESS</option>
                                <option value="RPi1B_R310_32_GCC14_musl">Raspberry Pi 1B+ / 32-bit / Linux (musl) / GCC 14.3</option>
                                <option value="RPi3B_R310_32_Clang15_PGO">Raspberry Pi 3B / 32-bit / Linux (glibc) / Clang 15.0.6 (PGO)</option>
                                <option value="RPi3B_R310_32_Clang15">Raspberry Pi 3B / 32-bit / Linux (glibc) / Clang 15.0.6</option>
                                <option value="RPi3B_R310_32_GCC14_PGO_musl">Raspberry Pi 3B / 32-bit / Linux (musl) / GCC 14.3 (PGO)</option>
                                <option value="RPi3B_R310_32_GCC14_musl">Raspberry Pi 3B / 32-bit / Linux (musl) / GCC 14.3</option>
                                <option value="RPi2B_R310_32_Clang15_PGO">Raspberry Pi 2B / 32-bit / Linux (glibc) / Clang 15.0.6 (PGO)</option>
                                <option value="RPi2B_R310_32_Clang15">Raspberry Pi 2B / 32-bit / Linux (glibc) / Clang 15.0.6</option>
                                <option value="RPi2B_R310_32_GCC14_PGO_musl">Raspberry Pi 2B / 32-bit / Linux (musl) / GCC 14.3 (PGO)</option>
                                <option value="RPi2B_R310_32_GCC14_musl">Raspberry Pi 2B / 32-bit / Linux (musl) / GCC 14.3</option>
                            </optgroup>

                            <optgroup label="User Defined …">
                                <option value="YourSystem">Your System (custom)</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="select-container">
                        <label for="benchmarkSelect"> Select Benchmarks:</label>
                        <select id="benchmarkSelect" multiple autocomplete="off">
                            <option value="MCS">MCS</option>

                            <option value="nqueensx">nqueensx</option>

                            <option value="PI">mbench — PI</option>
                            <option value="SR2">mbench — SR2</option>
                            <option value="Pfannkuchen">mbench — Pfannkuchen</option>
                            <option value="Eratosthenes">mbench — Eratosthenes</option>
                            <option value="Serestone">mbench — Serestone</option>
                            <option value="Romberg">mbench — Romberg</option>
                            <option value="Trapezoid">mbench — Trapezoid</option>
                            <option value="Mirestone">mbench — Mirestone</option>

                            <option value="CGMIPS">instr_speed — Composite Geometric MIPS</option>
                            <option value="T1">instr_speed — TEST 1: lda/sta ‑ even/odd</option>
                            <option value="T2">instr_speed — TEST 2: lda/sta ‑ odd/even</option>
                            <option value="T3">instr_speed — TEST 3: lda/lda/lda…</option>
                            <option value="T4">instr_speed — TEST 4: lda/sta ‑ even/odd bit29</option>
                            <option value="T5">instr_speed — TEST 5: eppbp/spribp ‑ even/odd</option>
                            <option value="T6">instr_speed — TEST 6: eppbp/spribp ‑ odd/even</option>
                            <option value="T7">instr_speed — TEST 7: eppbp/spribp ‑ even/odd indirect</option>
                            <option value="T8">instr_speed — TEST 8: eppbp/spribp ‑ odd/even indirect</option>
                            <option value="T9">instr_speed — TEST 9: eppbp/spribp ‑ even/odd bit29</option>
                            <option value="T10">instr_speed — TEST 10: eppbp/spribp ‑ even/odd bit29 indirect</option>
                            <option value="T11">instr_speed — TEST 11: eppbp/spribp ‑ odd/even bit29 indirect</option>
                            <option value="T12">instr_speed — TEST 12: random mix</option>
                            <option value="T13">instr_speed — TEST 13: lda 0,du…</option>
                            <option value="T14">instr_speed — TEST 14: nop 0,du…</option>
                            <option value="T15">instr_speed — TEST 15: lprpbp/sprpbp ‑ even/odd bit29</option>
                        </select>
                    </div>

                    <div style="display: flex; flex-wrap: wrap; gap: 20px">
                        <table border="0" cellpadding="0">
                            <tr>
                                <td style="vertical-align: top">
                                    <label>Scale Type:</label>
                                    <div class="scale-toggle"><input type="radio" name="scale" value="linear" checked /><small>Linear&nbsp;</small> <input type="radio" name="scale" value="logarithmic" /><small>Logarithmic</small></div>
                                </td>
                            </tr>
                        </table>
                        <div style="display: flex; flex-wrap: wrap; gap: 20px">
                            <table border="0" cellpadding="0">
                                <tr>
                                    <td style="vertical-align: top">
                                        <label>Chart Sorting:</label>
                                        <button id="sortChartsBtn" class="sort-btn" type="button">Disabled</button>
                                    </td>
                                </tr>
                            </table>
                            <table border="0" cellpadding="0">
                                <tr>
                                    <td style="vertical-align: top">
                                        <label>Chart Sharing:</label>
                                        <button id="shareChartBtn" class="sort-btn" type="button">Copy Link</button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="yourSystemFormContainer" style="display: none; margin-top: 16px"></div>
                    <hr />
                    <div id="tableContainer"></div>
                    <br />
                    <div id="chartsContainer"></div>
                    <div id="notesContainer"></div>
                    <div id="instructions" style="margin-bottom: 12px; color: #ffd; background: #222; padding: 8px; border-radius: 4px">
                        <table border="0" cellpadding="3" width="100%">
                            <tr>
                                <td style="vertical-align: middle; text-align: right; white-space: nowrap">
                                    <font size="+6">🔎&nbsp;</font>
                                </td>
                                <td style="vertical-align: middle; text-align: left">
                                    <br />Select one or more systems and benchmarks for comparison.<br />
                                    <small>Mobile users may wish to reduce their browser zoom before continuing.</small>
                                    <br /><br />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <script>
                    Chart.register(ChartDeferred);

                    const systemNotes = {
                        YourSystem:
                            "<br><ul><li><b>YourSystem</b><ul>" +
                            "<li>Custom System <small>(User supplied data)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi5B_R310_64_Clang20_PGO:
                            "<br><ul><li><b>RPi5B_R310_64_Clang20_PGO</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2712, Arm Cortex A76, 2400MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, PGO, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi5B_R310_64_Clang20:
                            "<br><ul><li><b>RPi5B_R310_64_Clang20</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2712, Arm Cortex A76, 2400MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi5B_R310_64_GCC12_PGO:
                            "<br><ul><li><b>RPi5B_R310_64_GCC12_PGO</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2712, Arm Cortex A76, 2400MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 12.2, PGO, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi5B_R310_64_GCC12:
                            "<br><ul><li><b>RPi5B_R310_64_GCC12_PGO</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2712, Arm Cortex A76, 2400MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 12.2, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi5B_R310_64_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi5B_R310_64_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2712, Arm Cortex A76, 2400MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi4B_R310_64_Clang20_PGO:
                            "<br><ul><li><b>RPi4B_R310_64_Clang20_PGO</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2711, Arm Cortex A72, 1800MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, PGO, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi4B_R310_64_Clang20:
                            "<br><ul><li><b>RPi4B_R310_64_Clang20</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2711, Arm Cortex A72, 1800MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi4B_R310_64_GCC12_PGO:
                            "<br><ul><li><b>RPi4B_R310_64_GCC12_PGO</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2711, Arm Cortex A72, 1800MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 12.2, PGO, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi4B_R310_64_GCC12:
                            "<br><ul><li><b>RPi4B_R310_64_GCC12</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2711, Arm Cortex A72, 1800MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 12.2, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi4B_R310_64_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi4B_R310_64_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 5B <small>(ARMv8-A BCM2711, Arm Cortex A72, 1800MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi1B_R310_32_GCC14_NL_PGO_musl:
                            "<br><ul><li><b>RPi1B_R310_32_GCC14_NL_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 1B+ <small>(ARMv6 BCM2835, ARM1176JZF-S, 700MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <b>NO_LOCKLESS</b> <small>(GCC 14.3, PGO, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi1B_R310_32_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi1B_R310_32_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 1B+ <small>(ARMv6 BCM2835, ARM1176JZF-S, 700MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi1B_R310_32_GCC14_NL_musl:
                            "<br><ul><li><b>RPi1B_R310_32_GCC14_NL_musl</b><ul>" +
                            "<li>Raspberry Pi 1B+ <small>(ARMv6 BCM2835, ARM1176JZF-S, 700MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <b>NO_LOCKLESS</b> <small>(GCC 14.3, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi1B_R310_32_GCC14_musl:
                            "<br><ul><li><b>RPi1B_R310_32_GCC14_musl</b><ul>" +
                            "<li>Raspberry Pi 1B+ <small>(ARMv6 BCM2835, ARM1176JZF-S, 700MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_64_Clang20_PGO:
                            "<br><ul><li><b>RPi3B_R310_64_Clang20_PGO</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, PGO, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_64_Clang20:
                            "<br><ul><li><b>RPi3B_R310_64_Clang20</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 20.1.7, glibc, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_64_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi3B_R310_64_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_64_GCC14_musl:
                            "<br><ul><li><b>RPi3B_R310_64_GCC14_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, musl, 64‑bit)</small>, Multics MR12.8</li>" +
                            "<li>64‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_32_Clang15_PGO:
                            "<br><ul><li><b>RPi3B_R310_32_Clang15_PGO</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 15.0.6, PGO, glibc, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_32_Clang15:
                            "<br><ul><li><b>RPi3B_R310_32_Clang15</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 15.0.6, glibc, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_32_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi3B_R310_32_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi3B_R310_32_GCC14_musl:
                            "<br><ul><li><b>RPi3B_R310_32_GCC14_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv8-A BCM2837, Arm Cortex A53, 1200MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi2B_R310_32_Clang15_PGO:
                            "<br><ul><li><b>RPi2B_R310_32_Clang15_PGO</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv7-HF BCM2836, Arm Cortex A7, 900MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 15.0.6, PGO, glibc, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi2B_R310_32_Clang15:
                            "<br><ul><li><b>RPi2B_R310_32_Clang15</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv7-HF BCM2836, Arm Cortex A7, 900MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(Clang 15.0.6, glibc, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi2B_R310_32_GCC14_PGO_musl:
                            "<br><ul><li><b>RPi2B_R310_32_GCC14_PGO_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv7-HF BCM2836, Arm Cortex A7, 900MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, PGO, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",

                        RPi2B_R310_32_GCC14_musl:
                            "<br><ul><li><b>RPi2B_R310_32_GCC14_musl</b><ul>" +
                            "<li>Raspberry Pi 3B <small>(ARMv7-HF BCM2836, Arm Cortex A7, 900MHz)</small></li>" +
                            "<li>DPS8M R3.1.0 <small>(GCC 14.3, musl, 32‑bit)</small>, Multics MR12.8</li>" +
                            "<li>32‑bit Linux: Raspberry Pi OS 12 <small>(Bookworm)</small></li>" +
                            "</ul></li></ul><br>",
                    }; // XXX: Add new notes above

                    const benchmarks = [
                        {name: "MCS", unit: "seconds to build MCS", description: "Time to build MCS (in seconds)"},

                        {name: "nqueensx", unit: "nqueensx MIPS", description: "Millions of instructions per second"},

                        {name: "Pfannkuchen", unit: "Pfannkuchen IPS", description: "Iterations per second"},
                        {name: "Eratosthenes", unit: "Eratosthenes IPS", description: "Iterations per second"},
                        {name: "Serestone", unit: "Serestone IPS", description: "Iterations per second"},
                        {name: "Romberg", unit: "Romberg IPS", description: "Iterations per second"},
                        {name: "Trapezoid", unit: "Trapezoid IPS", description: "Iterations per second"},
                        {name: "Mirestone", unit: "Mirestone IPS", description: "Iterations per second"},
                        {name: "PI", unit: "PI calculation seconds", description: "Time to complete (in seconds)"},
                        {name: "SR2", unit: "SR2 digits calculated", description: "Digits calculated (in 10 minutes)"},

                        {name: "CGMIPS", unit: "instr_speed MIPS", description: "instr_speed — Composite Geometric MIPS"},
                        {name: "T1", unit: "instr_speed MIPS", description: "instr_speed — TEST 1: lda/sta ‑ even/odd (MIPS)"},
                        {name: "T2", unit: "instr_speed MIPS", description: "instr_speed — TEST 2: lda/sta ‑ odd/even (MIPS)"},
                        {name: "T3", unit: "instr_speed MIPS", description: "instr_speed — TEST 3: lda/lda/lda… (MIPS)"},
                        {name: "T4", unit: "instr_speed MIPS", description: "instr_speed — TEST 4: lda/sta ‑ even/odd bit2 (MIPS)"},
                        {name: "T5", unit: "instr_speed MIPS", description: "instr_speed — TEST 5: eppbp/spribp ‑ even/odd (MIPS)"},
                        {name: "T6", unit: "instr_speed MIPS", description: "instr_speed — TEST 6: eppbp/spribp ‑ odd/even (MIPS)"},
                        {name: "T7", unit: "instr_speed MIPS", description: "instr_speed — TEST 7: eppbp/spribp ‑ even/odd indirect (MIPS)"},
                        {name: "T8", unit: "instr_speed MIPS", description: "instr_speed — TEST 8: eppbp/spribp ‑ odd/even indirect (MIPS)"},
                        {name: "T9", unit: "instr_speed MIPS", description: "instr_speed — TEST 9: eppbp/spribp ‑ even/odd bit29 (MIPS)"},
                        {name: "T10", unit: "instr_speed MIPS", description: "instr_speed — TEST 10: eppbp/spribp ‑ even/odd bit29 indirect (MIPS)"},
                        {name: "T11", unit: "instr_speed MIPS", description: "instr_speed — TEST 11: eppbp/spribp ‑ odd/even bit29 indirect (MIPS)"},
                        {name: "T12", unit: "instr_speed MIPS", description: "instr_speed — TEST 12: random mix (MIPS)"},
                        {name: "T13", unit: "instr_speed MIPS", description: "instr_speed — TEST 13: lda 0,du… (MIPS)"},
                        {name: "T14", unit: "instr_speed MIPS", description: "instr_speed — TEST 14: nop 0,du… (MIPS)"},
                        {name: "T15", unit: "instr_speed MIPS", description: "instr_speed — TEST 15: lprpbp/sprpbp ‑ even/odd bit29 (MIPS)"},
                    ];

                    const unitSubtitles = {
                        "seconds to build MCS": "↓ Less is better (elapsed seconds) ↓",

                        "nqueensx MIPS": "↑ More is better (millions of instructions per second) ↑",

                        "Pfannkuchen IPS": "↑ More is better (iterations per second) ↑",
                        "Eratosthenes IPS": "↑ More is better (iterations per second) ↑",
                        "Serestone IPS": "↑ More is better (iterations per second) ↑",
                        "Romberg IPS": "↑ More is better (iterations per second) ↑",
                        "Trapezoid IPS": "↑ More is better (iterations per second) ↑",
                        "Mirestone IPS": "↑ More is better (iterations per second) ↑",
                        "PI calculation seconds": "↓ Less is better (elapsed seconds) ↓",
                        "SR2 digits calculated": "↑ More is better (digits calculated in ten minutes) ↑",

                        "instr_speed MIPS": "↑ More is better (millions of instructions per second) ↑",
                    };

                    const benchmarkData = {
                        RPi5B_R310_64_Clang20_PGO: {
                            nqueensx: 10.823924135234,
                            CGMIPS: 10.254035,
                            T1: 10.526893,
                            T2: 10.500912,
                            T3: 13.217761,
                            T4: 10.281406,
                            T5: 10.429444,
                            T6: 10.39252,
                            T7: 7.69549,
                            T8: 7.685658,
                            T9: 10.161362,
                            T10: 7.576581,
                            T11: 7.458916,
                            T12: 10.758409,
                            T13: 15.096247,
                            T14: 15.690809,
                            T15: 10.337642,
                            Pfannkuchen: 25.40476,
                            Eratosthenes: 15.47826,
                            Serestone: 1051,
                            Romberg: 145.83783,
                            Trapezoid: 218.72972,
                            Mirestone: 30.76923,
                            MCS: 54.847,
                            PI: 494.218499,
                            SR2: 1328,
                        },

                        RPi5B_R310_64_Clang20: {
                            nqueensx: 6.2752312008687,
                            CGMIPS: 6.270181,
                            T1: 6.040158,
                            T2: 6.019566,
                            T3: 7.081315,
                            T4: 6.076228,
                            T5: 6.617739,
                            T6: 6.558493,
                            T7: 4.99341,
                            T8: 4.953825,
                            T9: 6.618409,
                            T10: 5.032569,
                            T11: 4.919744,
                            T12: 6.071074,
                            T13: 9.285687,
                            T14: 9.822425,
                            T15: 5.973152,
                            Pfannkuchen: 14.83333,
                            Eratosthenes: 9.5,
                            Serestone: 682.77499,
                            Romberg: 89.95,
                            Trapezoid: 134.9,
                            Mirestone: 19.24324,
                            MCS: 80.552248,
                            PI: 875.7255,
                            SR2: 767,
                        },

                        RPi5B_R310_64_GCC12_PGO: {
                            nqueensx: 9.7203853866869,
                            CGMIPS: 9.297961,
                            T1: 9.361742,
                            T2: 9.331997,
                            T3: 11.449999,
                            T4: 9.223247,
                            T5: 9.478247,
                            T6: 9.495747,
                            T7: 7.163916,
                            T8: 7.194582,
                            T9: 9.358331,
                            T10: 7.104582,
                            T11: 6.999915,
                            T12: 9.643158,
                            T13: 13.545324,
                            T14: 13.97658,
                            T15: 9.228745,
                            Pfannkuchen: 22.22916,
                            Eratosthenes: 13.6923,
                            Serestone: 975.38095,
                            Romberg: 134.9,
                            Trapezoid: 197.39024,
                            Mirestone: 28.07894,
                            MCS: 58.531456,
                            PI: 568.021993,
                            SR2: 1160,
                        },

                        RPi5B_R310_64_GCC12: {
                            nqueensx: 7.1233744565082,
                            CGMIPS: 7.627216,
                            T1: 7.589818,
                            T2: 7.582475,
                            T3: 9.641622,
                            T4: 7.308156,
                            T5: 7.969235,
                            T6: 7.989489,
                            T7: 5.837159,
                            T8: 5.772326,
                            T9: 7.673992,
                            T10: 5.656079,
                            T11: 5.525746,
                            T12: 7.388738,
                            T13: 12.114913,
                            T14: 12.418494,
                            T15: 7.415071,
                            Pfannkuchen: 16.55813,
                            Eratosthenes: 10.79545,
                            Serestone: 758.63888,
                            Romberg: 101.81132,
                            Trapezoid: 149.88888,
                            Mirestone: 21.34,
                            MCS: 71.119933,
                            PI: 753.1545,
                            SR2: 881,
                        },

                        RPi5B_R310_64_GCC14_PGO_musl: {
                            nqueensx: 9.779396,
                            CGMIPS: 9.246761,
                            T1: 9.360139,
                            T2: 9.364389,
                            T3: 11.539884,
                            T4: 9.183722,
                            T5: 9.312302,
                            T6: 9.320977,
                            T7: 7.082568,
                            T8: 7.094056,
                            T9: 9.130565,
                            T10: 6.992898,
                            T11: 6.884984,
                            T12: 9.671044,
                            T13: 13.738288,
                            T14: 14.112124,
                            T15: 9.251302,
                            Pfannkuchen: 22.22916,
                            Eratosthenes: 13.96078,
                            Serestone: 952.69767,
                            Romberg: 134.9,
                            Trapezoid: 197.39024,
                            Mirestone: 28.07894,
                            MCS: 58.874461,
                            PI: 566.626497,
                            SR2: 1156,
                        },

                        RPi4B_R310_64_Clang20_PGO: {
                            nqueensx: 4.1856792209776,
                            CGMIPS: 4.189575,
                            T1: 4.314827,
                            T2: 4.31091,
                            T3: 5.655226,
                            T4: 4.234158,
                            T5: 4.164163,
                            T6: 4.157998,
                            T7: 3.130748,
                            T8: 3.127249,
                            T9: 4.052748,
                            T10: 3.088415,
                            T11: 3.034999,
                            T12: 4.009455,
                            T13: 6.647739,
                            T14: 6.868457,
                            T15: 4.095577,
                            Pfannkuchen: 9.69387,
                            Eratosthenes: 5.72972,
                            Serestone: 395.82608,
                            Romberg: 54.52272,
                            Trapezoid: 79.95555,
                            Mirestone: 11.30952,
                            MCS: 143.352663,
                            PI: 1315.273119,
                            SR2: 504,
                        },

                        RPi4B_R310_64_Clang20: {
                            nqueensx: 2.9631050518169,
                            CGMIPS: 3.00698,
                            T1: 3.027249,
                            T2: 3.022748,
                            T3: 3.661749,
                            T4: 3.008825,
                            T5: 3.094331,
                            T6: 3.080831,
                            T7: 2.387082,
                            T8: 2.38375,
                            T9: 3.057162,
                            T10: 2.374748,
                            T11: 2.345999,
                            T12: 2.854999,
                            T13: 4.309911,
                            T14: 4.477248,
                            T15: 2.895415,
                            Pfannkuchen: 7.20454,
                            Eratosthenes: 4.32653,
                            Serestone: 311.25641,
                            Romberg: 43.24324,
                            Trapezoid: 63.13157,
                            Mirestone: 8.96226,
                            MCS: 173.143793,
                            PI: 1799.991,
                            SR2: 370,
                        },

                        RPi4B_R310_64_GCC12_PGO: {
                            nqueensx: 3.870780789566,
                            CGMIPS: 3.797415,
                            T1: 3.980659,
                            T2: 3.954899,
                            T3: 4.876747,
                            T4: 3.897665,
                            T5: 3.743745,
                            T6: 3.78208,
                            T7: 2.912498,
                            T8: 2.916248,
                            T9: 3.692327,
                            T10: 2.89783,
                            T11: 2.865332,
                            T12: 3.675905,
                            T13: 5.664077,
                            T14: 5.771727,
                            T15: 3.713829,
                            Pfannkuchen: 8.56756,
                            Eratosthenes: 5.29999,
                            Serestone: 364.16,
                            Romberg: 51.04255,
                            Trapezoid: 74.95833,
                            Mirestone: 10.55555,
                            MCS: 150.727495,
                            PI: 1480.622937,
                            SR2: 451,
                        },

                        RPi4B_R310_64_GCC12: {
                            nqueensx: 3.0115209796364,
                            CGMIPS: 3.095682,
                            T1: 3.092999,
                            T2: 3.104749,
                            T3: 4.256818,
                            T4: 2.990332,
                            T5: 3.12808,
                            T6: 3.100496,
                            T7: 2.365898,
                            T8: 2.353747,
                            T9: 2.984662,
                            T10: 2.332414,
                            T11: 2.259749,
                            T12: 2.956329,
                            T13: 5.100069,
                            T14: 5.2599,
                            T15: 2.789989,
                            Pfannkuchen: 7.04444,
                            Eratosthenes: 4.41666,
                            Serestone: 311.25641,
                            Romberg: 43.24324,
                            Trapezoid: 63.13157,
                            Mirestone: 8.80555,
                            MCS: 171.512779,
                            PI: 1840.149491,
                            SR2: 367,
                        },

                        RPi4B_R310_64_GCC14_PGO_musl: {
                            nqueensx: 3.964907,
                            CGMIPS: 3.914326,
                            T1: 4.029205,
                            T2: 4.041324,
                            T3: 4.986558,
                            T4: 3.924082,
                            T5: 3.890997,
                            T6: 3.914748,
                            T7: 2.954999,
                            T8: 2.962331,
                            T9: 3.812469,
                            T10: 2.983499,
                            T11: 2.955082,
                            T12: 3.881246,
                            T13: 5.904825,
                            T14: 5.956628,
                            T15: 3.980491,
                            Pfannkuchen: 8.80555,
                            Eratosthenes: 5.57894,
                            Serestone: 387.40425,
                            Romberg: 53.31111,
                            Trapezoid: 78.21739,
                            Mirestone: 11.04651,
                            MCS: 147.747331,
                            PI: 1412.344068,
                            SR2: 464,
                        },

                        RPi1B_R310_32_GCC14_NL_PGO_musl: {
                            nqueensx: 0.221061,
                            CGMIPS: 0.255137,
                            T1: 0.263916,
                            T2: 0.26583,
                            T3: 0.364499,
                            T4: 0.249082,
                            T5: 0.26983,
                            T6: 0.272999,
                            T7: 0.185249,
                            T8: 0.184083,
                            T9: 0.25083,
                            T10: 0.179915,
                            T11: 0.177416,
                            T12: 0.213915,
                            T13: 0.438579,
                            T14: 0.448497,
                            T15: 0.234415,
                            Pfannkuchen: 0.54054,
                            Eratosthenes: 0.27777,
                            Serestone: 19.24324,
                            Romberg: 2.5,
                            Trapezoid: 4,
                            Mirestone: 0.57999,
                            MCS: 2570.731,
                            PI: 25530.6,
                            SR2: 30,
                        },

                        RPi1B_R310_32_GCC14_PGO_musl: {
                            nqueensx: 0.235791,
                            CGMIPS: 0.266942,
                            T1: 0.275664,
                            T2: 0.278581,
                            T3: 0.363498,
                            T4: 0.259666,
                            T5: 0.278414,
                            T6: 0.28483,
                            T7: 0.201083,
                            T8: 0.198608,
                            T9: 0.262416,
                            T10: 0.195165,
                            T11: 0.195416,
                            T12: 0.223415,
                            T13: 0.438498,
                            T14: 0.447498,
                            T15: 0.247249,
                            Pfannkuchen: 0.54054,
                            Eratosthenes: 0.27777,
                            Serestone: 19.77777,
                            Romberg: 2.63888,
                            Trapezoid: 4.15686,
                            Mirestone: 0.59183,
                            MCS: 2519.623,
                            PI: 25983.8,
                            SR2: 30,
                        },

                        RPi1B_R310_32_GCC14_NL_musl: {
                            nqueensx: 0.188908,
                            CGMIPS: 0.215977,
                            T1: 0.214499,
                            T2: 0.213874,
                            T3: 0.325247,
                            T4: 0.210436,
                            T5: 0.251123,
                            T6: 0.250686,
                            T7: 0.146749,
                            T8: 0.148186,
                            T9: 0.243873,
                            T10: 0.143812,
                            T11: 0.146874,
                            T12: 0.187624,
                            T13: 0.348374,
                            T14: 0.359874,
                            T15: 0.199248,
                            Pfannkuchen: 0.43478,
                            Eratosthenes: 0.23809,
                            Serestone: 17.8,
                            Romberg: 2.2093,
                            Trapezoid: 3.83783,
                            Mirestone: 0.55555,
                            MCS: 2716.73,
                            PI: 29937.83,
                            SR2: 23,
                        },

                        RPi1B_R310_32_GCC14_musl: {
                            nqueensx: 0.153117,
                            CGMIPS: 0.171116,
                            T1: 0.157687,
                            T2: 0.157812,
                            T3: 0.273936,
                            T4: 0.155624,
                            T5: 0.183749,
                            T6: 0.181374,
                            T7: 0.117937,
                            T8: 0.117249,
                            T9: 0.180873,
                            T10: 0.116749,
                            T11: 0.116,
                            T12: 0.147812,
                            T13: 0.342787,
                            T14: 0.357051,
                            T15: 0.145749,
                            Pfannkuchen: 0.35,
                            Eratosthenes: 0.18867,
                            Serestone: 13.19444,
                            Romberg: 1.77777,
                            Trapezoid: 2.67924,
                            Mirestone: 0.38888,
                            MCS: 3684.207,
                            PI: 41784.29,
                            SR2: 19,
                        },

                        RPi3B_R310_64_Clang20_PGO: {
                            nqueensx: 1.560599,
                            CGMIPS: 1.570562,
                            T1: 1.558961,
                            T2: 1.551643,
                            T3: 1.947801,
                            T4: 1.50815,
                            T5: 1.619818,
                            T6: 1.617316,
                            T7: 1.22558,
                            T8: 1.225327,
                            T9: 1.560666,
                            T10: 1.197333,
                            T11: 1.169166,
                            T12: 1.59175,
                            T13: 2.379415,
                            T14: 2.450082,
                            T15: 1.539666,
                            Pfannkuchen: 3.83783,
                            Eratosthenes: 2.15909,
                            Serestone: 145.83783,
                            Romberg: 21.77551,
                            Trapezoid: 31.37254,
                            Mirestone: 4.60869,
                            MCS: 374.829986,
                            PI: 3529.594,
                            SR2: 195,
                        },

                        RPi3B_R310_64_Clang20: {
                            nqueensx: 1.078978,
                            CGMIPS: 1.147031,
                            T1: 1.104666,
                            T2: 1.098933,
                            T3: 1.407065,
                            T4: 1.086,
                            T5: 1.202533,
                            T6: 1.204066,
                            T7: 0.880266,
                            T8: 0.877999,
                            T9: 1.169866,
                            T10: 0.8642,
                            T11: 0.849867,
                            T12: 1.145933,
                            T13: 1.833664,
                            T14: 1.929327,
                            T15: 1.082533,
                            Pfannkuchen: 2.67924,
                            Eratosthenes: 1.6,
                            Serestone: 112.41666,
                            Romberg: 16.55813,
                            Trapezoid: 23.71111,
                            Mirestone: 3.38095,
                            MCS: 453.351905,
                            PI: 4953.864,
                            SR2: 140,
                        },

                        RPi3B_R310_64_GCC14_PGO_musl: {
                            nqueensx: 1.305959,
                            CGMIPS: 1.349059,
                            T1: 1.322999,
                            T2: 1.318749,
                            T3: 1.566312,
                            T4: 1.308062,
                            T5: 1.412187,
                            T6: 1.400874,
                            T7: 1.085625,
                            T8: 1.091625,
                            T9: 1.368749,
                            T10: 1.068937,
                            T11: 1.057874,
                            T12: 1.365187,
                            T13: 1.904061,
                            T14: 1.992562,
                            T15: 1.327999,
                            Pfannkuchen: 3.15555,
                            Eratosthenes: 1.9,
                            Serestone: 128.47619,
                            Romberg: 19.24324,
                            Trapezoid: 28.07894,
                            Mirestone: 4.07692,
                            MCS: 403.149914,
                            PI: 4225.341,
                            SR2: 164,
                        },

                        RPi3B_R310_64_GCC14_musl: {
                            nqueensx: 1.034198,
                            CGMIPS: 1.04821,
                            T1: 1.046866,
                            T2: 1.0464,
                            T3: 1.2424,
                            T4: 1.005857,
                            T5: 1.086059,
                            T6: 1.091388,
                            T7: 0.831195,
                            T8: 0.828663,
                            T9: 1.043928,
                            T10: 0.808333,
                            T11: 0.793933,
                            T12: 1.063866,
                            T13: 1.543466,
                            T14: 1.604599,
                            T15: 1.027133,
                            Pfannkuchen: 2.43589,
                            Eratosthenes: 1.5238,
                            Serestone: 105.80392,
                            Romberg: 15.47826,
                            Trapezoid: 22.70212,
                            Mirestone: 3.15555,
                            MCS: 480.456982,
                            PI: 5280.393,
                            SR2: 127,
                        },

                        RPi3B_R310_32_Clang15_PGO: {
                            nqueensx: 0.979238,
                            CGMIPS: 0.939263,
                            T1: 0.944583,
                            T2: 0.943333,
                            T3: 1.114667,
                            T4: 0.932333,
                            T5: 0.965417,
                            T6: 0.965,
                            T7: 0.753417,
                            T8: 0.754,
                            T9: 0.951167,
                            T10: 0.750417,
                            T11: 0.749667,
                            T12: 0.94275,
                            T13: 1.288583,
                            T14: 1.329333,
                            T15: 0.9225,
                            Pfannkuchen: 2.2093,
                            Eratosthenes: 1.3913,
                            Serestone: 97.24324,
                            Romberg: 11.58536,
                            Trapezoid: 18.25641,
                            Mirestone: 2.63888,
                            MCS: 563.141232,
                            PI: 5968.634,
                            SR2: 114,
                        },

                        RPi3B_R310_32_Clang15: {
                            nqueensx: 0.755239,
                            CGMIPS: 0.748127,
                            T1: 0.718214,
                            T2: 0.720857,
                            T3: 0.949214,
                            T4: 0.711286,
                            T5: 0.768071,
                            T6: 0.770214,
                            T7: 0.597357,
                            T8: 0.599071,
                            T9: 0.754286,
                            T10: 0.592,
                            T11: 0.594214,
                            T12: 0.744286,
                            T13: 1.095786,
                            T14: 1.137428,
                            T15: 0.706643,
                            Pfannkuchen: 1.75925,
                            Eratosthenes: 1.10256,
                            Serestone: 78.21739,
                            Romberg: 10.10638,
                            Trapezoid: 15.14893,
                            Mirestone: 2.15909,
                            MCS: 664.201553,
                            PI: 7571.445,
                            SR2: 92,
                        },

                        RPi3B_R310_32_GCC14_PGO_musl: {
                            nqueensx: 1.002462,
                            CGMIPS: 0.974883,
                            T1: 0.959621,
                            T2: 0.961621,
                            T3: 1.25975,
                            T4: 0.955,
                            T5: 0.972875,
                            T6: 0.974312,
                            T7: 0.767,
                            T8: 0.768875,
                            T9: 0.958437,
                            T10: 0.758812,
                            T11: 0.756937,
                            T12: 0.995875,
                            T13: 1.423936,
                            T14: 1.4875,
                            T15: 0.9475,
                            Pfannkuchen: 2.2619,
                            Eratosthenes: 1.42222,
                            Serestone: 99.94444,
                            Romberg: 12.5,
                            Trapezoid: 19.77777,
                            Mirestone: 2.73076,
                            MCS: 525.845,
                            PI: 5834.33,
                            SR2: 116,
                        },

                        RPi3B_R310_32_GCC14_musl: {
                            nqueensx: 0.819485,
                            CGMIPS: 0.849019,
                            T1: 0.863937,
                            T2: 0.862562,
                            T3: 1.051562,
                            T4: 0.847937,
                            T5: 0.889687,
                            T6: 0.887562,
                            T7: 0.650875,
                            T8: 0.648375,
                            T9: 0.865125,
                            T10: 0.638312,
                            T11: 0.63625,
                            T12: 0.85125,
                            T13: 1.224125,
                            T14: 1.260562,
                            T15: 0.840125,
                            Pfannkuchen: 1.93877,
                            Eratosthenes: 1.19444,
                            Serestone: 85.66666,
                            Romberg: 11.30952,
                            Trapezoid: 16.95238,
                            Mirestone: 2.43589,
                            MCS: 600.603886,
                            PI: 6811.915,
                            SR2: 103,
                        },

                        RPi2B_R310_32_Clang15_PGO: {
                            nqueensx: 0.620432,
                            CGMIPS: 0.572546,
                            T1: 0.580385,
                            T2: 0.580274,
                            T3: 0.71383,
                            T4: 0.593941,
                            T5: 0.585275,
                            T6: 0.587108,
                            T7: 0.435443,
                            T8: 0.437554,
                            T9: 0.588665,
                            T10: 0.443443,
                            T11: 0.444499,
                            T12: 0.563275,
                            T13: 0.807775,
                            T14: 0.833163,
                            T15: 0.566386,
                            Pfannkuchen: 1.3617,
                            Eratosthenes: 0.81132,
                            Serestone: 49.97916,
                            Romberg: 6.8913,
                            Trapezoid: 10.79545,
                            Mirestone: 1.56097,
                            MCS: 968.98,
                            PI: 9666.174,
                            SR2: 72,
                        },

                        RPi2B_R310_32_Clang15: {
                            nqueensx: 0.413469,
                            CGMIPS: 0.425827,
                            T1: 0.403161,
                            T2: 0.397106,
                            T3: 0.581046,
                            T4: 0.401438,
                            T5: 0.434273,
                            T6: 0.427719,
                            T7: 0.323272,
                            T8: 0.321608,
                            T9: 0.435161,
                            T10: 0.323216,
                            T11: 0.323663,
                            T12: 0.414548,
                            T13: 0.697215,
                            T14: 0.729657,
                            T15: 0.396441,
                            Pfannkuchen: 0.95555,
                            Eratosthenes: 0.55555,
                            Serestone: 42.10526,
                            Romberg: 5.43589,
                            Trapezoid: 8.3421,
                            Mirestone: 1.16216,
                            MCS: 1198.022224,
                            PI: 13525.68,
                            SR2: 31,
                        },

                        RPi2B_R310_32_GCC14_PGO_musl: {
                            nqueensx: 0.595739,
                            CGMIPS: 0.536227,
                            T1: 0.526053,
                            T2: 0.535274,
                            T3: 0.728997,
                            T4: 0.544221,
                            T5: 0.517442,
                            T6: 0.517387,
                            T7: 0.409888,
                            T8: 0.408221,
                            T9: 0.519719,
                            T10: 0.41361,
                            T11: 0.414833,
                            T12: 0.547387,
                            T13: 0.812831,
                            T14: 0.850109,
                            T15: 0.516277,
                            Pfannkuchen: 1.30612,
                            Eratosthenes: 0.80555,
                            Serestone: 54.52272,
                            Romberg: 6.69222,
                            Trapezoid: 10.55555,
                            Mirestone: 1.5238,
                            MCS: 970.765797,
                            PI: 10283.65,
                            SR2: 67,
                        },

                        RPi2B_R310_32_GCC14_musl: {
                            nqueensx: 0.439156,
                            CGMIPS: 0.481319,
                            T1: 0.484814,
                            T2: 0.485652,
                            T3: 0.617093,
                            T4: 0.479142,
                            T5: 0.499261,
                            T6: 0.500604,
                            T7: 0.368659,
                            T8: 0.366714,
                            T9: 0.494939,
                            T10: 0.357271,
                            T11: 0.352041,
                            T12: 0.467594,
                            T13: 0.700757,
                            T14: 0.752697,
                            T15: 0.477321,
                            Pfannkuchen: 1.04878,
                            Eratosthenes: 0.64444,
                            Serestone: 45.26415,
                            Romberg: 6.09615,
                            Trapezoid: 9.31372,
                            Mirestone: 1.30612,
                            MCS: 1114.717678,
                            PI: 12552.27,
                            SR2: 56,
                        },

                        /* System_Tag: {
                            nqueensx: ,
                            CGMIPS: ,
                            T1: ,
                            T2: ,
                            T3: ,
                            T4: ,
                            T5: ,
                            T6: ,
                            T7: ,
                            T8: ,
                            T9: ,
                            T10: ,
                            T11: ,
                            T12: ,
                            T13: ,
                            T14: ,
                            T15: ,
                            Pfannkuchen: ,
                            Eratosthenes: ,
                            Serestone: ,
                            Romberg: ,
                            Trapezoid: ,
                            Mirestone: ,
                            MCS: ,
                            PI: ,
                            SR2: ,
                        }, */

                    }; // XXX: Add new benchmark data above

                    function getColorForSystem(systemName) {
                        if (systemName === "YourSystem") return "#FFD700";

                        const hash = Array.from(systemName).reduce((hash, char) => hash + char.charCodeAt(0), 0);
                        const g = 0.618033988749895;
                        const h = (hash * g) % 1;
                        return `hsl(${Math.round(h * 360)}, 50%, 50%)`;
                    }

                    let tableSortMIPS = {col: null, asc: true};
                    let tableSortOther = {col: null, asc: true};

                    const MIPS_benchmarks = ["nqueensx", "CGMIPS", "T1", "T2", "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12", "T13", "T14", "T15"];

                    document.addEventListener("DOMContentLoaded", function () {
                        const systemSelectElement = document.getElementById("systemSelect");
                        const instructionsDiv = document.getElementById("instructions");
                        const yourSystemFormContainer = document.getElementById("yourSystemFormContainer");

                        function maybeHideInstructions() {
                            if (systemSelectElement.selectedOptions && systemSelectElement.selectedOptions.length > 0) {
                                instructionsDiv.style.display = "none";
                            }
                        }

                        systemSelectElement.addEventListener("change", maybeHideInstructions);
                        maybeHideInstructions();

                        const benchmarkSelectElement = document.getElementById("benchmarkSelect");

                        if (!systemSelectElement || !benchmarkSelectElement) {
                            console.error("Select elements not found");
                            return;
                        }

                        const systemSelect = new Choices(systemSelectElement, {searchResultLimit: -1, removeItemButton: true});
                        const benchmarkSelect = new Choices(benchmarkSelectElement, {searchResultLimit: -1, removeItemButton: true});

                        const notesContainer = document.getElementById("notesContainer");

                        systemSelect.passedElement.element.addEventListener("change", function () {
                            const selectedSystems = systemSelect.getValue(true);
                            const selectedBenchmarks = benchmarkSelect.getValue(true);
                            notesContainer.innerHTML = "";

                            selectedSystems.forEach((system) => {
                                if (systemNotes[system]) {
                                    const noteElement = document.createElement("div");
                                    noteElement.classList.add("system-note");
                                    const colorDot = `<br><p><span class="color-dot note-dot" style="background-color: ${getColorForSystem(system)}"></span></p>`;
                                    noteElement.innerHTML = `<p><table border=1 margin=0 width=100% bgcolor=#222><tr><td><font size=-1><table margin=4 border=0 width=100% bgcolor=#252525><tr><td width=10% style='text-align: right; vertical-align: top'>${colorDot}</td><td width=90% style='text-align: left; vertical-align: top'>${systemNotes[system]}</td></tr></table></font></td></tr></table></p>`;
                                    notesContainer.appendChild(noteElement);
                                }
                            });

                            if (selectedSystems.includes("YourSystem")) {
                                showYourSystemForm(selectedBenchmarks);
                            } else {
                                hideYourSystemForm();
                                delete benchmarkData["YourSystem"];
                                yourSystemData = {};
                                updateChart();
                            }

                            maybeHideInstructions();
                        });

                        const hasShareState = new URLSearchParams(window.location.search).has("state");

                        function setDefaultChoiceValues() {
                            benchmarkSelect.setChoiceByValue(["CGMIPS", "nqueensx", "MCS", "PI"]);
                        }

                        if (!hasShareState) {
                            setDefaultChoiceValues();
                        }

                        let charts = [];
                        let yourSystemData = {};

                        let sortLowestToHighest = false;
                        const sortBtn = document.getElementById("sortChartsBtn");

                        if (sortBtn) {
                            sortBtn.addEventListener("click", function () {
                                sortLowestToHighest = !sortLowestToHighest;
                                sortBtn.textContent = sortLowestToHighest ? "Enabled" : "Disabled";
                                updateChart();
                                resetShareBtnText();
                            });
                        }

                        function showYourSystemForm(selectedBenchmarks) {
                            let formHtml = '<label>&nbsp;Your Benchmark Results:</label><form autocomplete="off" id="yourSystemForm">';
                            formHtml += '<div style="font-size: 1em; color: #fff; background: #252525; border: 1px solid #4b5563; border-radius: 4px; padding: 12px; margin-bottom: 8px;">';
                            selectedBenchmarks.forEach((benchmark) => {
                                const bench = benchmarks.find((b) => b.name === benchmark);
                                formHtml += `
                                <label style="color:#fff;">
                                    <input type="number" class="number-input" step="0.001" min="0" name="${benchmark}" autocomplete="off" style="width: 5em; margin-left:8px;"
                                        value="${yourSystemData[benchmark] ?? ""}" />
                                    <span style="font-size: 0.9em; color: #bbb;">&nbsp;${benchmark}: ${bench.description}</span>
                                </label>
                            `;
                            });
                            formHtml += '<button type="submit" style="margin-left: 10px; margin-top: 8px;" class="sort-btn">Apply</button>';
                            formHtml += "</div></form>";
                            yourSystemFormContainer.innerHTML = formHtml;
                            yourSystemFormContainer.style.display = "block";
                        }

                        function hideYourSystemForm() {
                            yourSystemFormContainer.innerHTML = "";
                            yourSystemFormContainer.style.display = "none";
                        }

                        function updateChart() {
                            const selectedSystems = systemSelect.getValue(true);
                            const selectedBenchmarks = benchmarkSelect.getValue(true);

                            if (selectedSystems.length === 0 || selectedBenchmarks.length === 0) {
                                document.getElementById("chartsContainer").innerHTML = "";
                                charts = [];
                                updateTable();
                                return;
                            }

                            const unitGroups = {};

                            selectedBenchmarks.forEach((benchmark) => {
                                const unit = benchmarks.find((b) => b.name === benchmark).unit;

                                if (!unitGroups[unit]) {
                                    unitGroups[unit] = [];
                                }

                                unitGroups[unit].push(benchmark);
                            });

                            const scaleType = document.querySelector('input[name="scale"]:checked').value;

                            document.getElementById("chartsContainer").innerHTML = "";
                            charts.forEach((chart) => chart.destroy());
                            charts = [];

                            Object.entries(unitGroups).forEach(([unit, benchmarksInUnit]) => {
                                const table = document.createElement("table");
                                table.setAttribute("margin", "4");
                                table.setAttribute("border", "1");
                                table.setAttribute("width", "100%");
                                table.setAttribute("bgcolor", "#252525");

                                const tr = document.createElement("tr");
                                const td = document.createElement("td");

                                const wrapper = document.createElement("div");
                                wrapper.className = "chart-wrapper";

                                const canvas = document.createElement("canvas");
                                wrapper.appendChild(canvas);
                                td.appendChild(wrapper);
                                tr.appendChild(td);
                                table.appendChild(tr);

                                document.getElementById("chartsContainer").appendChild(document.createElement("p"));
                                document.getElementById("chartsContainer").appendChild(table);

                                const ctx = canvas.getContext("2d");
                                let systemsForChart = selectedSystems.slice();

                                if (sortLowestToHighest) {
                                    if (benchmarksInUnit.length === 1) {
                                        const bench = benchmarksInUnit[0];
                                        systemsForChart.sort((a, b) => {
                                            const va = benchmarkData[a]?.[bench];
                                            const vb = benchmarkData[b]?.[bench];

                                            if (va === undefined) return 1;
                                            if (vb === undefined) return -1;

                                            return va - vb;
                                        });
                                    } else {
                                        systemsForChart.sort((a, b) => {
                                            const sumA = benchmarksInUnit.reduce((acc, bench) => acc + (benchmarkData[a]?.[bench] ?? 0), 0);
                                            const sumB = benchmarksInUnit.reduce((acc, bench) => acc + (benchmarkData[b]?.[bench] ?? 0), 0);
                                            return sumA - sumB;
                                        });
                                    }
                                }

                                const datasets = systemsForChart.map((system) => ({
                                    label: system,
                                    data: benchmarksInUnit.map((benchmark) => {
                                        const value = benchmarkData[system]?.[benchmark];
                                        return value === 0.0 ? null : value;
                                    }),
                                    backgroundColor: getColorForSystem(system),
                                    borderColor: getColorForSystem(system).replace("50%", "70%"),
                                    borderWidth: 1,
                                }));

                                const chart = new Chart(ctx, {
                                    type: "bar",
                                    data: {
                                        labels: benchmarksInUnit,
                                        datasets: datasets,
                                    },
                                    options: {
                                        responsive: true,
                                        animation: {
                                            duration: 300,
                                        },
                                        indexAxis: "x",
                                        maintainAspectRatio: false,
                                        aspectRatio: 1.8,
                                        scales: {
                                            y: {
                                                type: scaleType,
                                                beginAtZero: true,
                                                title: {display: true, text: `Performance (${unit})`},
                                                ticks: {color: "#ffffff"},
                                                grid: {color: "#cccccc"},
                                            },
                                            x: {
                                                title: {display: false, text: "Benchmarks"},
                                                ticks: {color: "#ffffff"},
                                                grid: {color: "#cccccc"},
                                            },
                                        },
                                        plugins: {
                                            legend: {position: "top", labels: {font: {size: 11}, color: "#ffffff"}},
                                            title: {display: true, text: `Benchmark — ${unit}`, color: "#ffffff"},
                                            subtitle: {
                                                display: !!unitSubtitles[unit],
                                                text: unitSubtitles[unit] || "",
                                                color: "#cccccc",
                                                font: {size: 12, weight: "normal", style: "italic"},
                                            },
                                            tooltip: {
                                                callbacks: {
                                                    title: function (context) {
                                                        const benchmark = context[0].label;
                                                        const desc = benchmarks.find((b) => b.name === benchmark).description;
                                                        return `${benchmark}: ${desc}`;
                                                    },
                                                    label: function (context) {
                                                        const dataset = context.dataset;
                                                        const value = context.parsed.y;
                                                        const unit = benchmarks.find((b) => b.name === context.label).unit;
                                                        return `${dataset.label}: ${value} ${unit}`;
                                                    },
                                                },
                                                backgroundColor: "rgba(0, 0, 0, 0.8)",
                                                titleColor: "#ffffff",
                                                bodyColor: "#ffffff",
                                            },
                                        },
                                    },
                                });
                                charts.push(chart);
                            });
                            updateTable();
                        }

                        function renderDynamicTable(selectedSystems, selectedBenchmarks) {
                            const tableContainer = document.getElementById("tableContainer");

                            if (!selectedSystems.length || !selectedBenchmarks.length) {
                                tableContainer.innerHTML = "";
                                return;
                            }

                            const prevScrolls = [];
                            document.querySelectorAll(".table-scroll").forEach((div) => {
                                prevScrolls.push(div.scrollLeft);
                            });

                            const selectedMIPS = selectedBenchmarks.filter((b) => MIPS_benchmarks.includes(b));
                            const selectedOther = selectedBenchmarks.filter((b) => !MIPS_benchmarks.includes(b));
                            let html = "";

                            function buildTable(systems, benches, tableId, sortState) {
                                if (!benches.length) return "";

                                let html = `<div class="table-scroll"><table id="${tableId}" class="dynamicTable">`;
                                html += "<thead><tr>";
                                html += `<th class="sortable-th${sortState.col === 0 ? " sorted-" + (sortState.asc ? "asc" : "desc") : ""}" data-col="0"><b>System</b></th>`;
                                benches.forEach((bench, i) => {
                                    html += `<th class="sortable-th${sortState.col === i + 1 ? " sorted-" + (sortState.asc ? "asc" : "desc") : ""}" data-col="${i + 1}"><b>${bench}</b></th>`;
                                });
                                html += "</tr></thead>";

                                let rows = systems.map((sys) => {
                                    return [
                                        `<span class="system-label"><span class="color-dot" style="background-color: ${getColorForSystem(sys)}"></span>${sys}</span>`,
                                        ...benches.map((b) => {
                                            let v = benchmarkData[sys] && benchmarkData[sys][b] !== undefined ? benchmarkData[sys][b] : "";

                                            if (v !== "" && !isNaN(v)) {
                                                v = (Math.round(parseFloat(v) * 100) / 100).toFixed(2);
                                                return v;
                                            }

                                            return "";
                                        }),
                                    ];
                                });

                                if (sortState.col !== null) {
                                    rows.sort((a, b) => {
                                        let va = a[sortState.col],
                                            vb = b[sortState.col];

                                        if (sortState.col === 0) {
                                            while (/<[^>]*>/.test(va)) {
                                                va = va.replace(/<[^>]*>/g, "");
                                            }

                                            while (/<[^>]*>/.test(vb)) {
                                                vb = vb.replace(/<[^>]*>/g, "");
                                            }

                                            return sortState.asc ? va.localeCompare(vb) : vb.localeCompare(va);
                                        }

                                        if (!isNaN(va) && !isNaN(vb) && va !== "" && vb !== "") {
                                            va = parseFloat(va);
                                            vb = parseFloat(vb);

                                            return sortState.asc ? va - vb : vb - va;
                                        } else {
                                            return sortState.asc ? ("" + va).localeCompare("" + vb) : ("" + vb).localeCompare("" + va);
                                        }
                                    });
                                }

                                html += "<tbody>";
                                rows.forEach((row) => {
                                    html += "<tr>" + row.map((cell) => `<td><code>${cell}</code></td>`).join("") + "</tr>";
                                });
                                html += "</tbody></table></div>";
                                return html;
                            }

                            if (selectedMIPS.length) {
                                html += `<p></p><font size=-1>MIPS Benchmarks:</font>`;
                                html += buildTable(selectedSystems, selectedMIPS, "dynamicTableMIPS", tableSortMIPS);
                            }

                            if (selectedOther.length) {
                                html += `<p></p><font size=-1>Other Benchmarks:</font>`;
                                html += buildTable(selectedSystems, selectedOther, "dynamicTableOther", tableSortOther);
                            }

                            tableContainer.innerHTML = html;

                            document.querySelectorAll(".table-scroll").forEach((div, i) => {
                                if (prevScrolls[i] !== undefined) div.scrollLeft = prevScrolls[i];
                            });

                            document.querySelectorAll("#dynamicTableMIPS th.sortable-th").forEach((th) => {
                                th.onclick = function () {
                                    let col = parseInt(this.getAttribute("data-col"), 10);

                                    if (tableSortMIPS.col === col) tableSortMIPS.asc = !tableSortMIPS.asc;
                                    else {
                                        tableSortMIPS.col = col;
                                        tableSortMIPS.asc = true;
                                    }

                                    renderDynamicTable(selectedSystems, selectedBenchmarks);
                                    resetShareBtnText();
                                };
                            });

                            document.querySelectorAll("#dynamicTableOther th.sortable-th").forEach((th) => {
                                th.onclick = function () {
                                    let col = parseInt(this.getAttribute("data-col"), 10);

                                    if (tableSortOther.col === col) tableSortOther.asc = !tableSortOther.asc;
                                    else {
                                        tableSortOther.col = col;
                                        tableSortOther.asc = true;
                                    }

                                    renderDynamicTable(selectedSystems, selectedBenchmarks);
                                    resetShareBtnText();
                                };
                            });
                        }

                        function updateTable() {
                            const selectedSystems = systemSelect.getValue(true);
                            const selectedBenchmarks = benchmarkSelect.getValue(true);
                            renderDynamicTable(selectedSystems, selectedBenchmarks);
                        }

                        systemSelectElement.addEventListener("change", updateChart);
                        benchmarkSelectElement.addEventListener("change", function () {
                            const selectedSystems = systemSelect.getValue(true);
                            const selectedBenchmarks = benchmarkSelect.getValue(true);

                            if (selectedSystems.includes("YourSystem")) {
                                showYourSystemForm(selectedBenchmarks);
                            } else {
                                hideYourSystemForm();
                            }

                            updateChart();
                        });

                        document.querySelectorAll('input[name="scale"]').forEach((radio) => {
                            radio.addEventListener("change", updateChart);
                        });

                        updateChart();

                        yourSystemFormContainer.addEventListener("submit", function (e) {
                            if (e.target && e.target.id === "yourSystemForm") {
                                e.preventDefault();
                                const formData = new FormData(e.target);
                                yourSystemData = {};

                                for (const [key, value] of formData.entries()) {
                                    if (value !== "") {
                                        yourSystemData[key] = parseFloat(value);
                                    }
                                }

                                if (Object.keys(yourSystemData).length > 0) {
                                    benchmarkData["YourSystem"] = {...yourSystemData};
                                }

                                updateChart();
                            }
                        });

                        function getCurrentChartState() {
                            return {
                                systems: systemSelect.getValue(true),
                                benchmarks: benchmarkSelect.getValue(true),
                                scale: document.querySelector('input[name="scale"]:checked').value,
                                sort: sortLowestToHighest,
                                yourSystemData: {...yourSystemData},
                                tableSortMIPS: {...tableSortMIPS},
                                tableSortOther: {...tableSortOther},
                            };
                        }

                        function setChartState(state) {
                            if (!state) return;

                            if (state.systems) {
                                systemSelect.setChoiceByValue(state.systems);
                                const event = new Event("change", {bubbles: true});
                                systemSelect.passedElement.element.dispatchEvent(event);
                            }

                            if (state.benchmarks) benchmarkSelect.setChoiceByValue(state.benchmarks);

                            const restoredSystems = state.systems || [];
                            const restoredBenchmarks = state.benchmarks || [];
                            if (Array.isArray(restoredSystems) && restoredSystems.length === 0 && Array.isArray(restoredBenchmarks) && restoredBenchmarks.length === 0) {
                                resetShareBtnText();
                                benchmarkSelect.removeActiveItems();
                                setDefaultChoiceValues();
                                const event = new Event("change", {bubbles: true});
                                benchmarkSelect.passedElement.element.dispatchEvent(event);
                            }

                            if (state.scale) {
                                document.querySelectorAll('input[name="scale"]').forEach((r) => {
                                    r.checked = r.value === state.scale;
                                });
                            }

                            if (typeof state.sort === "boolean") {
                                sortLowestToHighest = state.sort;
                                sortBtn.textContent = sortLowestToHighest ? "Enabled" : "Disabled";
                            }

                            if (state.yourSystemData) {
                                yourSystemData = {...state.yourSystemData};
                                benchmarkData["YourSystem"] = {...yourSystemData};
                            }

                            if (state.tableSortMIPS) {
                                tableSortMIPS = {...state.tableSortMIPS};
                            }

                            if (state.tableSortOther) {
                                tableSortOther = {...state.tableSortOther};
                            }

                            const selectedSystems = systemSelect.getValue(true);
                            const selectedBenchmarks = benchmarkSelect.getValue(true);

                            if (selectedSystems.includes("YourSystem")) {
                                showYourSystemForm(selectedBenchmarks);
                            } else {
                                hideYourSystemForm();
                            }

                            maybeHideInstructions();
                            updateChart();
                        }

                        function resetShareBtnText() {
                            shareChartBtn.textContent = "Copy Link";
                            shareChartBtnCopied = false;
                        }

                        const shareChartBtn = document.getElementById("shareChartBtn");
                        let shareChartBtnCopied = false;

                        shareChartBtn.onclick = function () {
                            const encoded = encodeURIComponent(LZString.compressToEncodedURIComponent(JSON.stringify(getCurrentChartState())));
                            const url = `${window.location.origin}${window.location.pathname}?state=${encoded}`;

                            function showCopied() {
                                shareChartBtn.textContent = "Link Copied!";
                                shareChartBtnCopied = true;
                            }

                            if (navigator.clipboard && navigator.clipboard.writeText) {
                                navigator.clipboard
                                    .writeText(url)
                                    .then(showCopied)
                                    .catch(function () {
                                        fallbackCopyTextToClipboard(url, showCopied);
                                    });
                            } else {
                                fallbackCopyTextToClipboard(url, showCopied);
                            }
                        };

                        function fallbackCopyTextToClipboard(text, callback) {
                            const textArea = document.createElement("textarea");
                            textArea.value = text;
                            textArea.style.position = "fixed";
                            textArea.style.opacity = "0";
                            document.body.appendChild(textArea);
                            textArea.focus();
                            textArea.select();

                            try {
                                const successful = document.execCommand("copy");
                                if (successful && typeof callback === "function") callback();
                            } catch (err) {
                                alert("Copy link:\n" + text);
                            }

                            document.body.removeChild(textArea);
                        }

                        systemSelect.passedElement.element.addEventListener("change", resetShareBtnText);
                        benchmarkSelect.passedElement.element.addEventListener("change", resetShareBtnText);

                        document.querySelectorAll('input[name="scale"]').forEach((radio) => {
                            radio.addEventListener("change", resetShareBtnText);
                        });

                        yourSystemFormContainer.addEventListener("input", function (e) {
                            if (e.target && e.target.matches('input[type="number"]')) {
                                resetShareBtnText();
                            }
                        });

                        (function restoreStateFromUrl() {
                            const params = new URLSearchParams(window.location.search);

                            if (params.has("state")) {
                                let decoded, state;
                                try {
                                    decoded = LZString.decompressFromEncodedURIComponent(params.get("state"));
                                    state = decoded ? JSON.parse(decoded) : null;
                                    if (state) {
                                        setTimeout(() => {
                                            setChartState(state);
                                            shareChartBtn.textContent = "Chart Restored!";
                                            shareChartBtnCopied = false;
                                        }, 50);
                                    } else {
                                        benchmarkSelect.removeActiveItems();
                                        setDefaultChoiceValues();
                                        const event = new Event("change", {bubbles: true});
                                        benchmarkSelect.passedElement.element.dispatchEvent(event);
                                        resetShareBtnText();
                                        console.error("Failed to restore chart: state is null or invalid");
                                    }
                                } catch (e) {
                                    benchmarkSelect.removeActiveItems();
                                    setDefaultChoiceValues();
                                    const event = new Event("change", {bubbles: true});
                                    benchmarkSelect.passedElement.element.dispatchEvent(event);
                                    resetShareBtnText();
                                    console.error("Failed to restore chart:", e);
                                }
                            }
                        })();
                    });
                </script>
            </main>

            <footer>
                <table border="0" width="100%">
                    <tr>
                        <td style="padding-left: 15px; vertical-align: middle; text-align: left; white-space: nowrap">
                            <span>Copyright &copy; <span id="copyright-year"></span> <a href="https://dps8m.gitlab.io">The DPS8M Development Team</a></span>
                        </td>
                        <td style="padding-right: 15px; vertical-align: middle; text-align: right; white-space: nowrap">
                            <small>Version <code>2025.6.21.0</code></small>
                        </td>
                    </tr>
                </table>
            </footer>
            <script>
                const startYear = 2025;
                const currentYear = new Date().getFullYear();
                const copyrightText = currentYear === startYear ? `${startYear}` : `${startYear}‑${currentYear}`;
                document.getElementById("copyright-year").textContent = copyrightText;
            </script>
        </div>
    </body>
</html>
